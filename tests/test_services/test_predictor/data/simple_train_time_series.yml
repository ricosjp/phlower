scaling:
  variable_name_to_scalers:

    nodal_nadj: std_scale
    generated_nodal_u: std_scale
    nodal_u: std_scale

training:
  batch_size: 1
  random_seed: 0
  loss_setting:
    name2loss:
      nodal_u: "mse"
  optimizer_setting:
    optimizer: SGD
    parameters:
      lr: 0.0001


model:
  inputs:
    - name: generated_nodal_u
      physical_dimension: {"L": 1, "T": -1}
      is_time_series: true
  labels:
    - name: nodal_u
      physical_dimension: {"L": 1, "T": -1}
      is_time_series: true
  
  fields:
    - name: "nodal_nadj"
      physical_dimension: {}

  network:
    nn_type: GROUP
    name: DEMO
    inputs:
      - name: generated_nodal_u
        n_last_dim: 1
    outputs:
      - name: nodal_u
        n_last_dim: 1

    modules:
      - nn_type: MLP
        name: Encoder
        input_keys:
          - generated_nodal_u
        destinations:
          - Share0
        nn_parameters:
          nodes: [-1, 16, 1]
          activations: ["identity", "identity"]
          bias: False

      - name: Share0
        nn_type: Share
        destinations:
          - Decoder
        nn_parameters:
          reference_name: Encoder
      
      - name: Decoder
        nn_type: MLP
        output_key: nodal_u
        nn_parameters:
          nodes: [-1, 16, 1]
          activations: ["identity", "identity"]
          bias: False

